{
  "name": "Discord Claude Code Bot",
  "image": "mcr.microsoft.com/devcontainers/universal:2-linux",
  "features": {
    "ghcr.io/devcontainers/features/deno:1": {
      "version": "latest"
    },
    "ghcr.io/anthropics/devcontainer-features/claude-cli:latest": {},
    "ghcr.io/devcontainers/features/git:1": {
      "ppa": true,
      "version": "latest"
    },
    "ghcr.io/devcontainers/features/git-lfs:1": {
      "autoPull": true,
      "version": "latest"
    },
    "ghcr.io/devcontainers/features/github-cli:1": {
      "installDirectlyFromGitHub": true,
      "version": "latest"
    }
  },
  "customizations": {
    "vscode": {
      "extensions": [
        "denoland.vscode-deno",
        "ms-vscode.vscode-json",
        "bradlc.vscode-tailwindcss",
        "ms-vscode.vscode-typescript-next",
        "esbenp.prettier-vscode"
      ],
      "settings": {
        "deno.enable": true,
        "deno.lint": true,
        "deno.unstable": false,
        "deno.path": "/usr/local/bin/deno",
        "deno.config": "./deno.json",
        "typescript.preferences.importModuleSpecifier": "relative",
        "editor.defaultFormatter": "denoland.vscode-deno",
        "editor.formatOnSave": true,
        "editor.codeActionsOnSave": {
          "source.organizeImports": "always"
        },
        "[typescript]": {
          "editor.defaultFormatter": "denoland.vscode-deno"
        },
        "[typescriptreact]": {
          "editor.defaultFormatter": "denoland.vscode-deno"
        },
        "[javascript]": {
          "editor.defaultFormatter": "denoland.vscode-deno"
        },
        "[javascriptreact]": {
          "editor.defaultFormatter": "denoland.vscode-deno"
        },
        "[json]": {
          "editor.defaultFormatter": "denoland.vscode-deno"
        },
        "[jsonc]": {
          "editor.defaultFormatter": "denoland.vscode-deno"
        }
      }
    }
  },
  "forwardPorts": [],
  "postCreateCommand": [
    "bash",
    "-c",
    "deno cache src/main.ts && echo 'Deno dependencies cached successfully!'"
  ],
  "postStartCommand": [
    "bash",
    "-c",
    "git config --global --add safe.directory ${containerWorkspaceFolder}"
  ],
  "remoteUser": "codespace",
  "mounts": [
    "source=${localEnv:HOME}/.gitconfig,target=/home/codespace/.gitconfig,type=bind,consistency=cached",
    "source=${localEnv:HOME}/.ssh,target=/home/codespace/.ssh,type=bind,consistency=cached"
  ],
  "containerEnv": {
    "DENO_INSTALL_ROOT": "/usr/local"
  }
}
